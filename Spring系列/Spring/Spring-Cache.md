



| 注解          | 描述                                                         |
| ------------- | ------------------------------------------------------------ |
| `@Cacheable`  | 表明Spring在调用方法之前，首先应该在缓存中查找方法的返回值。如果这个值能够找到，就会返回缓存的值。否则的话，这个方法就会被调用，返回值会放到缓存之中。 |
| `@CachePut`   | 表明Spring应该将方法的返回值放到缓存中。在方法的调用前并不会检查缓存，方法始终都会被调用。 |
| `@CacheEvict` | 表明Spring应该在缓存中清除一个或多个条目。                   |
| `@Caching`    | 这是一个分组的注解，能够同时应用多个其他的缓存注解。         |



@Cacheable和@CachePut有一些共有的属性。

| 属性        | 类型       | 描述                                                         |
| ----------- | ---------- | ------------------------------------------------------------ |
| `value`     | `String[]` | 要使用的缓存名称。                                           |
| `condition` | `String`   | SpEL表达式，如果得到的值是`false`的话，不会将缓存应用到方法调用上。 |
| `key`       | `String`   | SpEL表达式，用来计算自定义缓存key                            |
| `unless`    | `String`   | SpEL表达式，如果得到的值是`true`的话，返回值不会放到缓存之中。 |



Spring提供了多个用来定义缓存规则的SpEL扩展

| 表达式              | 描述                                                         |
| ------------------- | ------------------------------------------------------------ |
| `#root.args`        | 传递给缓存方法的参数，形式为数组。                           |
| `#root.caches`      | 该方法执行时所对应的缓存，形式为数组。                       |
| `#root.target`      | 目标对象。                                                   |
| `#root.targetClass` | 目标对象的类，是`#root.target.class`的简写形式。             |
| `#root.method`      | 缓存方法                                                     |
| `#root.methodName`  | 缓存方法的名字，是`#root.method.name`的简写形式。            |
| `#result`           | 方法调用的返回值（不能用在`@Cacheable`注解上）。             |
| `#Argument`         | 任意的方法参数名（如`#argName`）或参数索引（如`#a0`或`p0`）。 |









